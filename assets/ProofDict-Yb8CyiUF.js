import{j as S,a as m,l as y,v as E,u as T,c as $,b as e,w as t,U as D,d as c,o as F,e as n,f as h,E as I,K as L,L as M}from"./index-CSOg7YfN.js";import{y as P,c as B,s as H,E as R}from"./用户词典-NTvDNA5k.js";import{_ as k}from"./plugin-vueexport-helper-DlAUqK2U.js";const C=r=>(L("data-v-793adfa3"),r=r(),M(),r),N={class:"proof-dict"},U=C(()=>h("br",null,null,-1)),V=["innerHTML"],j=["innerHTML"],K={__name:"ProofDict",setup(r){const b=S("$globalState"),_=m(),v=m(""),d=m(""),u=(...l)=>{if(!l)return"";let a="",s=0;for(let i of l){if(!i){console.warn("当前字典为空，未解析");continue}for(let o of i.split(`
`))o.trim().startsWith("#")&&(o=`<b>${o}</b>`),a+=`<span class="auto-incr-id">${++s}</span>${o}<br/>`;a+=`<span class="auto-incr-id">${++s}</span><br/>`,a+=`<span class="auto-incr-id">${++s}</span><br/>`}return a},g=l=>{let a=new FileReader;a.readAsText(l.raw),a.onload=()=>{d.value=u(a.result),localStorage[D]=a.result,R.emit("loadUserProofDict",a.result),I.success("自定义词典加载完成")}},w=l=>{var a,s;(a=_.value)==null||a.clearFiles(),(s=_.value)==null||s.handleStart(l[0])};return v.value=u(H,B,P),d.value=u(localStorage[D]),(l,a)=>{const s=c("el-button"),i=c("el-upload"),o=c("el-col"),p=c("el-text"),f=c("el-row"),x=c("el-scrollbar");return y((F(),$("div",N,[e(f,{class:"dict-upload"},{default:t(()=>[e(o,{span:12},{default:t(()=>[e(i,{ref_key:"dictFile",ref:_,"auto-upload":!1,limit:1,"on-change":g,"on-exceed":w},{default:t(()=>[e(s,{type:"primary"},{default:t(()=>[n("上传自定义词典")]),_:1})]),_:1},512)]),_:1}),e(o,{span:12},{default:t(()=>[e(p,{class:"text-tip"},{default:t(()=>[n("词典格式："),U,n("正确词 错误词1,错误词2")]),_:1})]),_:1})]),_:1}),e(f,{class:"text-label"},{default:t(()=>[e(o,{span:12},{default:t(()=>[e(p,{tag:"b"},{default:t(()=>[n("内置词典：")]),_:1})]),_:1}),e(o,{span:12},{default:t(()=>[e(p,{tag:"b"},{default:t(()=>[n("自定义词典：")]),_:1})]),_:1})]),_:1}),e(f,{class:"text-dict"},{default:t(()=>[e(o,{span:12},{default:t(()=>[e(x,{"max-height":"600px"},{default:t(()=>[h("div",{innerHTML:v.value},null,8,V)]),_:1})]),_:1}),e(o,{span:12},{default:t(()=>[e(x,{"max-height":"600px"},{default:t(()=>[h("div",{innerHTML:d.value},null,8,j)]),_:1})]),_:1})]),_:1})],512)),[[E,T(b).vip]])}}},W=k(K,[["__scopeId","data-v-793adfa3"]]);export{W as default};
